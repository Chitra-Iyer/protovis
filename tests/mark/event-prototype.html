<html>
  <head>
    <title>Event Prototype</title>
    <script type="text/javascript" src="../../protovis-d3.2.js"></script>
    <style type="text/css">

body {
  max-width: 8in;
  margin: .25in;
  font: 14px/134% Helvetica Neue, sans-serif;
}

    </style>
  </head>
  <body>
    <script type="text/javascript+protovis">

var vis = new pv.Panel()
    .width(285)
    .height(200)
    .strokeStyle("black")
    .lineWidth(10);

var panel = vis.add(pv.Panel)
    .data(pv.range(10))
    .top(function(d) d * 20)
    .transform(function(d) pv.Transform.identity.translate(d * 10, 0).scale(d))
    .fillStyle("green")
    .event("mouseover", function() label.text(this.scale + " / " + pv.Mark.prototype.index))
    .event("mouseout", function() label.text("MOUSEOVER ME"));

var label = panel.add(pv.Rule)
    .width(10)
  .anchor("right").add(pv.Label)
    .text("MOUSEOVER ME");

vis.render();

    </script><p>

This test verifies that partial rendering correctly observes the current scale
(the text size should not change); it also verifies that the
default <tt>scale</tt> and <tt>index</tt> properties are set inside event
handlers (on mouseover, the text labels should read "1 / 1" etc.); lastly it
verifies that partial rendering wires up the scene of preceding siblings, so as
to allow property chaining (no crashes).

  </body>
</html>
