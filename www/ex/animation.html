<html>
  <head>
    <script type="text/javascript" src="../protovis-r3.1.0.js"></script>
    <link rel="stylesheet" type="text/css" href="ex.css"/>
  </head>
  <body><center>
    <script type="text/javascript+protovis">
      var vis = new pv.Panel()
          .width(150)
          .height(150)
          .bottom(20)
          .right(20);

      vis.add(pv.Rule)
          .data(pv.range(.5, 2, .5))
          .strokeStyle("#666")
          .bottom(function(d) Math.round(d * 80) + .5)
        .anchor("right").add(pv.Label)
          .textStyle("#999");

      var bar = vis.add(pv.Bar)
          .def("active", -1)
          .data([1, 1.2, 1.7, 1.5, .7, .3])
          .width(20)
          .height(function(d) d * 80)
          .bottom(0)
          .left(function() this.index * 25)
          .fillStyle(function() (this.index == this.active()) ? "#ff7f0e" : "#1f77b4")
          .event("mouseover", function() this.active(this.index).parent.render(500))
          .event("mouseout", function() this.active(-1).parent.render(500));

      bar.anchor("bottom").add(pv.Label)
          .textBaseline("top")
          .textStyle("#ccc")
          .textMargin(5)
          .text(function() "ABCDEFG".charAt(this.index));

      bar.anchor("top").add(pv.Label)
          .textBaseline("bottom")
          .textStyle("#ccc")
          .visible(function() this.index == this.anchorTarget().active());

      vis.add(pv.Rule)
          .strokeStyle("#999")
          .bottom(.5);

      vis.render();
    </script>
  </center></body>
</html>
