<html>
  <head>
    <title>Cleveland & McGill</title>
    <script type="text/javascript" src="../../protovis-r3.1.0.js"></script>
    <script type="text/javascript" src="cleveland.js"></script>
    <!--script type="text/javascript" src="cleveland-random.js"></script-->
    <style type="text/css">
      body {
        font: small sans-serif;
        max-width: 8.5in;
      }
      svg, h2, h3 {
        margin-bottom: 10px;
      }
      svg {
        border: solid 1px #ccc;
        margin-right: 10px;
        float: left;
      }
    </style>
  </head>
  <body>

<!--     <h2>Source Data</h2> -->
<!--     <script type="text/javascript"> -->

<!-- function write(obj) { -->
<!--   if (obj instanceof Array) { -->
<!--     document.write("["); -->
<!--     for (var i = 0; i < obj.length; i++) { -->
<!--       write(obj[i]); -->
<!--       if (i < obj.length - 1) { -->
<!--         document.write(", "); -->
<!--       } -->
<!--     } -->
<!--     document.write("]"); -->
<!--   } else { -->
<!--     document.write(obj); -->
<!--   } -->
<!-- } -->

<!-- document.write("var samplet1 = "); -->
<!-- write(samplet1); -->
<!-- document.write(";<p>"); -->

<!-- document.write("var samplet2 = "); -->
<!-- write(samplet2); -->
<!-- document.write(";<p>"); -->

<!-- document.write("var samplet3 = "); -->
<!-- write(samplet3); -->
<!-- document.write(";<p>"); -->

<!-- document.write("var samplet4 = "); -->
<!-- write(samplet4); -->
<!-- document.write(";<p>"); -->

<!-- document.write("var samplet5 = "); -->
<!-- write(samplet5); -->
<!-- document.write(";<p>"); -->

<!-- document.write("var sample5 = "); -->
<!-- write(sample5); -->
<!-- document.write(";<p>"); -->

<!--     </script> -->

    <h2>Position-length Experiment</h2>

    <h3>Type 1</h3>
    <script type="text/javascript+protovis">

new pv.Panel().width(310.5).height(345.5)
    .data(samplet1)
    .left(59.5)
    .bottom(24.5)
    .top(10)
    .right(10)
  .add(pv.Rule)
    .left(-.5)
    .bottom(-.5)
    .top(14)
    .lineWidth(2)
  .add(pv.Dot)
    .data([0, 100])
    .shape("tick")
    .strokeStyle("black")
    .lineWidth(2)
    .angle(-Math.PI / 2)
    .top(null)
    .bottom(function(d) d * 3.3 + .5)
    .size(10)
  .anchor("left").add(pv.Label)
    .font("bold 14px sans-serif")
    .textMargin(12)
  .add(pv.Rule)
    .left(9.5)
    .bottom(.5)
    .right(0)
    .top(null)
  .add(pv.Panel)
    .data(function(d) d)
    .left(function() this.index * 140 + 60)
    .strokeStyle(null)
  .add(pv.Label)
    .left(35)
    .bottom(-2)
    .textBaseline("top")
    .textAlign("center")
    .text(function() ["A", "B"][this.parent.index])
    .font("bold 14px sans-serif")
  .add(pv.Bar)
    .data(function(d) d)
    .fillStyle(null)
    .lineWidth(2)
    .strokeStyle("black")
    .left(function() this.index * 20 - 15.5)
    .bottom(0)
    .height(function(d) Math.round(d * 3.3))
    .width(20)
  .anchor("center").add(pv.Dot)
    .strokeStyle(null)
    .fillStyle("black")
    .size(8)
    .top(null).bottom(10)
    .visible(function() !this.parent.index && ((this.index == 1) || (this.index == 2)))
  .root.render();

    </script>
    <br clear="all">

    <h3>Type 2</h3>
    <script type="text/javascript+protovis">

new pv.Panel().width(310.5).height(345.5)
    .data(samplet2)
    .left(59.5)
    .bottom(24.5)
    .top(10)
    .right(10)
  .add(pv.Rule)
    .left(-.5)
    .bottom(-.5)
    .top(14)
    .lineWidth(2)
  .add(pv.Dot)
    .data([0, 100])
    .shape("tick")
    .strokeStyle("black")
    .lineWidth(2)
    .angle(-Math.PI / 2)
    .top(null)
    .bottom(function(d) d * 3.3 + .5)
    .size(10)
  .anchor("left").add(pv.Label)
    .font("bold 14px sans-serif")
    .textMargin(12)
  .add(pv.Rule)
    .left(9.5)
    .bottom(.5)
    .right(0)
    .top(null)
  .add(pv.Panel)
    .data(function(d) d)
    .left(function() this.index * 140 + 60)
    .strokeStyle(null)
  .add(pv.Label)
    .left(35)
    .bottom(-2)
    .textBaseline("top")
    .textAlign("center")
    .text(function() ["A", "B"][this.parent.index])
    .font("bold 14px sans-serif")
  .add(pv.Bar)
    .data(function(d) d)
    .fillStyle(null)
    .lineWidth(2)
    .strokeStyle("black")
    .left(function() -15.5)
    .bottom(function() {
        var s = this.sibling();
        return s ? (s.bottom + s.height) : 0;
      })
    .height(function(d) Math.round(d * 3.3))
    .width(100)
  .anchor("center").add(pv.Dot)
    .strokeStyle(null)
    .fillStyle("black")
    .size(8)
    .visible(function() !this.index)
  .root.render();

    </script>
    <br clear="all">

    <h3>Type 3</h3>
    <script type="text/javascript+protovis">

new pv.Panel().width(310.5).height(345.5)
    .data(samplet3)
    .left(59.5)
    .bottom(24.5)
    .top(10)
    .right(10)
  .add(pv.Rule)
    .left(-.5)
    .bottom(-.5)
    .top(14)
    .lineWidth(2)
  .add(pv.Dot)
    .data([0, 100])
    .shape("tick")
    .strokeStyle("black")
    .lineWidth(2)
    .angle(-Math.PI / 2)
    .top(null)
    .bottom(function(d) d * 3.3 + .5)
    .size(10)
  .anchor("left").add(pv.Label)
    .font("bold 14px sans-serif")
    .textMargin(12)
  .add(pv.Rule)
    .left(9.5)
    .bottom(.5)
    .right(0)
    .top(null)
  .add(pv.Panel)
    .data(function(d) d)
    .left(function() this.index * 140 + 60)
    .strokeStyle(null)
  .add(pv.Label)
    .left(35)
    .bottom(-2)
    .textBaseline("top")
    .textAlign("center")
    .text(function() ["A", "B"][this.parent.index])
    .font("bold 14px sans-serif")
  .add(pv.Bar)
    .data(function(d) d)
    .fillStyle(null)
    .lineWidth(2)
    .strokeStyle("black")
    .left(function() this.index * 20 - 15.5)
    .bottom(0)
    .height(function(d) Math.round(d * 3.3))
    .width(20)
  .anchor("center").add(pv.Dot)
    .strokeStyle(null)
    .fillStyle("black")
    .size(8)
    .top(null).bottom(10)
    .visible(function() this.index == 1)
  .root.render();

    </script>
    <br clear="all">

    <h3>Type 4</h3>
    <script type="text/javascript+protovis">

new pv.Panel().width(310.5).height(345.5)
    .data(samplet4)
    .left(59.5)
    .bottom(24.5)
    .top(10)
    .right(10)
  .add(pv.Rule)
    .left(-.5)
    .bottom(-.5)
    .top(14)
    .lineWidth(2)
  .add(pv.Dot)
    .data([0, 100])
    .shape("tick")
    .strokeStyle("black")
    .lineWidth(2)
    .angle(-Math.PI / 2)
    .top(null)
    .bottom(function(d) d * 3.3 + .5)
    .size(10)
  .anchor("left").add(pv.Label)
    .font("bold 14px sans-serif")
    .textMargin(12)
  .add(pv.Rule)
    .left(9.5)
    .bottom(.5)
    .right(0)
    .top(null)
  .add(pv.Panel)
    .data(function(d) d)
    .left(function() this.index * 140 + 60)
    .strokeStyle(null)
  .add(pv.Label)
    .left(35)
    .bottom(-2)
    .textBaseline("top")
    .textAlign("center")
    .text(function() ["A", "B"][this.parent.index])
    .font("bold 14px sans-serif")
  .add(pv.Bar)
    .data(function(d) d)
    .fillStyle(null)
    .lineWidth(2)
    .strokeStyle("black")
    .left(function() -15.5)
    .bottom(function() {
        var s = this.sibling();
        return s ? (s.bottom + s.height) : 0;
      })
    .height(function(d) Math.round(d * 3.3))
    .width(100)
  .anchor("center").add(pv.Dot)
    .strokeStyle(null)
    .fillStyle("black")
    .size(8)
    .visible(function() this.index == 3)
  .root.render();

    </script>
    <br clear="all">

    <h3>Type 5</h3>
    <script type="text/javascript+protovis">

new pv.Panel().width(310.5).height(345.5)
    .data(samplet5)
    .left(59.5)
    .bottom(24.5)
    .top(10)
    .right(10)
  .add(pv.Rule)
    .left(-.5)
    .bottom(-.5)
    .top(14)
    .lineWidth(2)
  .add(pv.Dot)
    .data([0, 100])
    .shape("tick")
    .strokeStyle("black")
    .lineWidth(2)
    .angle(-Math.PI / 2)
    .top(null)
    .bottom(function(d) d * 3.3 + .5)
    .size(10)
  .anchor("left").add(pv.Label)
    .font("bold 14px sans-serif")
    .textMargin(12)
  .add(pv.Rule)
    .left(9.5)
    .bottom(.5)
    .right(0)
    .top(null)
  .add(pv.Panel)
    .data(function(d) d)
    .left(function() this.index * 140 + 60)
    .strokeStyle(null)
  .add(pv.Label)
    .left(35)
    .bottom(-2)
    .textBaseline("top")
    .textAlign("center")
    .text(function() ["A", "B"][this.parent.index])
    .font("bold 14px sans-serif")
  .add(pv.Bar)
    .data(function(d) d)
    .fillStyle(null)
    .lineWidth(2)
    .strokeStyle("black")
    .left(function() -15.5)
    .bottom(function() {
        var s = this.sibling();
        return s ? (s.bottom + s.height) : 0;
      })
    .height(function(d) Math.round(d * 3.3))
    .width(100)
  .anchor("center").add(pv.Dot)
    .strokeStyle(null)
    .fillStyle("black")
    .size(8)
    .visible(function() !this.parent.index && (this.index >= 2))
  .root.render();

    </script>
    <br clear="all">

    <h2>Position-angle Experiment</h2>

    <h3>Pie Chart</h3>
    <script type="text/javascript+protovis">

new pv.Panel().width(380).height(380)
    .data(sample5)
  .add(pv.Wedge)
    .data(function(d) d)
    .left(190)
    .bottom(190)
    .outerRadius(165)
    .fillStyle(null)
    .lineWidth(2)
    .strokeStyle("black")
    .angle(function(d) d * Math.PI / 50)
    .startAngle(function() {
        var s = this.sibling();
        return s ? s.endAngle : (-Math.PI / 2 * Math.random() / 2 - Math.PI / 4);
      })
  .anchor("center").add(pv.Dot)
    .fillStyle("black")
    .strokeStyle(null)
    .size(5)
    .visible(function() this.index == pv.max.index(this.root.data()))
  .anchorTarget().anchor("outer").add(pv.Label)
    .textMargin(6)
    .textAlign(function() {
        var w = this.anchorTarget();
        return pv.Wedge.upright(w.midAngle()) ? "left" : "right";
      })
    .text(function() ["A", "B", "C", "D", "E"][this.index])
    .font("bold 14px sans-serif")
  .root.render();

    </script>
    <br clear="all">

    <h3>Bar Chart</h3>
    <script type="text/javascript+protovis">

new pv.Panel().width(310.5).height(345.5)
    .data(sample5)
    .left(59.5)
    .bottom(24.5)
    .top(10)
    .right(10)
  .add(pv.Rule)
    .left(-.5)
    .bottom(-.5)
    .top(12)
    .lineWidth(2)
  .add(pv.Dot)
    .data([0, 40])
    .shape("tick")
    .strokeStyle("black")
    .lineWidth(2)
    .angle(-Math.PI / 2)
    .top(null)
    .bottom(function(d) d * 8.3 + .5)
    .size(10)
  .anchor("left").add(pv.Label)
    .font("bold 14px sans-serif")
    .textMargin(12)
  .add(pv.Rule)
    .left(9.5)
    .bottom(.5)
    .right(0)
    .top(null)
  .add(pv.Bar)
    .data(function(d) d)
    .fillStyle(null)
    .lineWidth(2)
    .strokeStyle("black")
    .left(function() this.index * 55 + 30.5)
    .bottom(0.5)
    .height(function(d) Math.round(d * 8.3))
    .width(45)
  .anchor("center").add(pv.Dot)
    .shape("circle")
    .strokeStyle(null)
    .fillStyle("black")
    .size(8)
    .top(null).bottom(10)
    .visible(function() this.index == pv.max.index(this.parent.data()))
  .anchorTarget().anchor("bottom").add(pv.Label)
    .font("bold 14px sans-serif")
    .text(function() ["A", "B", "C", "D", "E"][this.index])
    .textMargin(6)
    .textBaseline("top")
  .root.render();

    </script>
    <br clear="all">
  </body>
</html>
