<html>
  <head>
    <script type="text/javascript" src="../protovis-r3.1.0.js"></script>
    <script type="text/javascript" src="jobs-performance.js"></script>
    <style type="text/css">
      body {
        font-family: Helvetica Neue, sans-serif;
      }
    </style>
  </head>
  <body>
    <b>Load Time of Job Voyager</b> by SVN revision.<p>
    <script type="text/javascript+protovis">
      var x = pv.Scale.linear(performance, function(d) d.r).range(0, 610),
          y = pv.Scale.linear(0, 1500).range(0, 338);

      var vis = new pv.Panel()
          .width(610)
          .height(338)
          .bottom(2)
          .left(20)
          .right(50);

      vis.add(pv.Rule)
          .data([150, 260, 560, 590, 632])
          .left(x)
          .strokeStyle("yellow")
          .lineWidth(4)
          .anchor("bottom").add(pv.Label)
            .textBaseline("bottom")
            .text(function(d) "r" + d);

      vis.add(pv.Rule)
          .data(y.ticks())
          .bottom(y)
          .strokeStyle(function() this.index ? "lightgrey" : "black")
        .anchor("right").add(pv.Label)
          .visible(function() this.index % 2)
          .text(function(d) d.toFixed(0) + "ms");

      vis.add(pv.Area)
          .data(performance)
          .left(function(d) x(d.r))
          .bottom(function(d) y(pv.min(d.t)))
          .height(function(d) y(pv.max(d.t)) - y(pv.min(d.t)))
        .add(pv.Line)
          .strokeStyle("black")
          .lineWidth(1)
          .bottom(function(d) y(pv.mean(d.t)));

      vis.render()
    </script>
    <p>

    Notable revisions (approximate):
    <ul>
      <li>r150 - initial version.
      <li>r260 - replaces canvas with SVG; adds interactivity.
      <li>r560 - VML support.
      <li>r590 - rendering performance improvements.
      <li>r632 - use tree rather than tabuluar data representation.
    </ul>
  </body>
</html>
