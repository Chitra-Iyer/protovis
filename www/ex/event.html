<html>
  <head>
    <title>Events</title>
    <script type="text/javascript" src="../protovis-r3.1.0.js"></script>
    <style type="text/css">
      body {
        font: small sans-serif;
        max-width: 8.5in;
      }
      div, h3 {
        margin-bottom: 10px;
      }
      .canvas {
        width: 170px;
        height: 170px;
        border: solid 10px #ccc;
        margin-right: 10px;
        float: left;
      }
    </style>
  </head>
  <body>
    <h3>Event Handling</h3>
    <div class="canvas">
    <script type="text/javascript+protovis">
function ss(s) {
  document.getElementById("status").innerHTML = s;
}

new pv.Panel().width(150).height(150)
    .bottom(10).top(10).left(10).right(10)
  .add(pv.Bar)
    .def("mouseover")
    .def("mousedown")
    .data([1, 1.2, 1.7, 1.5, .7, .2])
    .cursor("pointer")
    .bottom(0).width(20)
    .height(function(d) d * 70)
    .left(function() this.index * 26)
    .fillStyle(function() this.index == this.mousedown() ? "#9c9ede" : "#4a5584")
    .strokeStyle(function() this.index == this.mouseover() ? "red" : null)
    .title(function(d) d)
    .event("mousedown", function() this.mousedown(this.index))
    .event("mouseup", function() this.mousedown(-1))
    .event("click", function(d) ss("d: " + d + ", i: " + this.index))
    .event("mouseover", function() this.mouseover(this.index))
    .event("mouseout", function() this.mouseover(-1))
  .anchor("top").add(pv.Label)
    .textStyle("white")
  .root.render();

    </script>
    </div>

    <div class="canvas">
    <script type="text/javascript+protovis">

new pv.Panel().width(150).height(150)
    .bottom(10).top(10).left(10).right(10)
  .add(pv.Wedge)
    .cursor("pointer")
    .data(pv.normalize([1, 1.2, 1.7, 1.5, .7, .2]))
    .bottom(75).left(75).innerRadius(50).outerRadius(75)
    .angle(function(d) d * 2 * Math.PI)
    .title(function(d) d)
    .event("mousedown", function() this.fillStyle("#9c9ede"))
    .event("mouseup", function() this.fillStyle("#4a5584"))
    .event("mouseover", function() this.strokeStyle("red"))
    .event("mouseout", function() this.strokeStyle(null))
  .add(pv.Wedge)
    .data([1])
    .innerRadius(0).outerRadius(40)
    .fillStyle("#bcbd22")
    .event("mousedown", function() this.fillStyle("#9c9ede"))
    .event("mouseup", function() this.fillStyle("#4a5584"))
    .event("mouseover", function() this.strokeStyle("red"))
    .event("mouseout", function() this.strokeStyle(null))
  .root.render();

    </script>
    </div>

    <div class="canvas">
    <script type="text/javascript+protovis">

new pv.Panel().width(150).height(150)
    .bottom(10).top(10).left(10).right(10)
  .add(pv.Line)
    .cursor("pointer")
    .data([1, 1.2, 1.7, 1.5, .7, .2])
    .bottom(function(d) d * 70)
    .left(function() this.index * 30)
    .strokeStyle("#1f77b4").lineWidth(10)
    .title(function(d) d)
    .event("mousedown", function() this.strokeStyle("#9c9ede"))
    .event("mouseup", function() this.strokeStyle("#4a5584"))
    .event("mouseover", function() this.strokeStyle("red"))
    .event("mouseout", function() this.strokeStyle("#1f77b4"))
  .root.render();

    </script>
    </div>

    <div class="canvas">
    <script type="text/javascript+protovis">

new pv.Panel().width(150).height(150)
    .bottom(10).top(10).left(10).right(10)
  .add(pv.Area)
    .cursor("pointer")
    .data([1, 1.2, 1.7, 1.5, .7, .2])
    .bottom(0)
    .height(function(d) d * 70)
    .left(function() this.index * 30)
    .fillStyle("#1f77b4")
    .title(function(d) d)
    .event("mousedown", function() this.fillStyle("#9c9ede"))
    .event("mouseup", function() this.fillStyle("#4a5584"))
    .event("mouseover", function() this.strokeStyle("red"))
    .event("mouseout", function() this.strokeStyle(null))
  .root.render();

    </script>
    </div>

    <div class="canvas">
    <script type="text/javascript+protovis">

new pv.Panel().width(150).height(150)
    .bottom(10).top(10).left(10).right(10)
  .add(pv.Dot)
    .data([[.1, 1, .4],
           [.3, 1.2, .3],
           [.9, 1.7, .1],
           [.2, 1.3, 1],
           [.8, 1.7, 1.5],
           [.65, 1.9, 10],
           [.6, 1.8, 2],
           [.7, 1.5, .5],
           [.75, 1.4, .2],
           [.73, 1.5, .1],
           [.76, 1.55, .1],
           [.78, 1.49, .1],
           [.2, 1.2, 4],
           [.7, 2.2, 1]]
      .sort(function(a, b) b[2] - a[2]))
    .left(function(d) d[0] * 150 + 2)
    .bottom(function(d) d[1] * 90 - 75)
    .size(function(d) d[2] * 200)
    .fillStyle("#1f77b4")
    .strokeStyle("white")
    .cursor("pointer")
    .event("mousedown", function() this.fillStyle("#9c9ede"))
    .event("mouseup", function() this.fillStyle("#4a5584"))
    .event("mouseover", function() this.strokeStyle("red"))
    .event("mouseout", function() this.strokeStyle("white"))
  .root.render();

    </script>
    </div>

    <div class="canvas">
    <script type="text/javascript+protovis">

new pv.Panel().width(150).height(150)
    .bottom(10).top(10).left(10).right(10)
  .add(pv.Image)
    .cursor("pointer")
    .url("stanford.png")
    .event("click", function() ss("<i>Die Luft der Freiheit weht!</i>"))
  .root.render();

    </script>
    </div>
    <br clear="all">
    <div>Status: <span id="status"><i>...</i></span></div>
  </body>
</html>
